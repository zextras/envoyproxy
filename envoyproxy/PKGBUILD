# Please refer to the table below to check envoy and consul
# compatibility:
#   - https://www.consul.io/docs/connect/proxies/envoy

pkgname="envoyproxy"
pkgver="1.27.3"
pkgrel="1"
pkgdesc="A high performance, open source, general RPC framework that puts mobile and HTTP/2 first."
maintainer="Zextras SRL <packages@zextras.com>"
arch=('x86_64')
url="https://www.zextras.com"
license=("Apache-2.0")
section="utils"
provides=("getenvoy-envoy")
conflicts=("getenvoy-envoy")
source=(
  "https://archive.tetratelabs.io/envoy/download/v${pkgver}/envoy-v${pkgver}-linux-amd64.tar.xz"
)
sha256sums=('b7ccde570894c0ebd2008f27f575f6abcb4c1c0280ee6750e79ff5d1665b9963')

package() {
  cd "${srcdir}/envoy-v${pkgver}-linux-amd64"
  install -d "${pkgdir}/usr/bin"
  install -m755 bin/envoy \
    "${pkgdir}/usr/bin/envoy"
}
